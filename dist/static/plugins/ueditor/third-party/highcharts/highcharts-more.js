/*
 Highcharts JS v3.0.6 (2013-10-04)

 (c) 2009-2013 Torstein HÃ¸nsi

 License: www.highcharts.com/license
*/

(function(e,t){function n(e,t,n){this.init.call(this,e,t,n)}function r(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function i(e,t){var n=this.chart,r=this.options.animation,i=this.group,s=this.markerGroup,o=this.xAxis.center,u=n.plotLeft,a=n.plotTop;if(n.polar){if(n.renderer.isSVG)if(r===!0&&(r={}),t){if(n={translateX:o[0]+u,translateY:o[1]+a,scaleX:.001,scaleY:.001},i.attr(n),s)s.attrSetters=i.attrSetters,s.attr(n)}else n={translateX:u,translateY:a,scaleX:1,scaleY:1},i.animate(n,r),s&&s.animate(n,r),this.animate=null}else e.call(this,t)}var s=e.arrayMin,o=e.arrayMax,u=e.each,a=e.extend,f=e.merge,l=e.map,c=e.pick,h=e.pInt,p=e.getOptions().plotOptions,d=e.seriesTypes,v=e.extendClass,m=e.splat,g=e.wrap,y=e.Axis,b=e.Tick,w=e.Series,E=d.column.prototype,S=Math,x=S.round,T=S.floor,N=S.max,C=function(){};a(n.prototype,{init:function(e,t,n){var r=this,i=r.defaultOptions;r.chart=t,t.angular&&(i.background={}),r.options=e=f(i,e),(e=e.background)&&u([].concat(m(e)).reverse(),function(e){var t=e.backgroundColor,e=f(r.defaultBackgroundOptions,e);t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var k=y.prototype,b=b.prototype,L={getOffset:C,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:C,setCategories:C,setTitle:C},A={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){this.options=f(this.defaultOptions,this.defaultRadialOptions,e)},getOffset:function(){k.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(e,t){var n=this.center,t=c(t,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){k.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.isXAxis)&&(this.minPixelPadding=this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0))},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){k.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=d.pie.prototype.getCenter.call(this.pane),this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2)},getPosition:function(e,t){return this.isCircular||(t=this.translate(e),e=this.min),this.postTranslate(this.translate(e),c(t,this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center,e=this.startAngleRad+e;return{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var r=this.center,i=this.startAngleRad,s=r[2]/2,o=[c(n.outerRadius,"100%"),n.innerRadius,c(n.thickness,10)],u=/%$/,a,f=this.isCircular;return this.options.gridLineInterpolation==="polygon"?r=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(f||(o[0]=this.translate(e),o[1]=this.translate(t)),o=l(o,function(e){return u.test(e)&&(e=h(e,10)*s/100),e}),n.shape==="circle"||!f?(e=-Math.PI/2,t=Math.PI*1.5,a=!0):(e=i+this.translate(e),t=i+this.translate(t)),r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],o[0],o[0],{start:e,end:t,innerR:c(o[1],o[0]-o[2]),open:a})),r},getPlotLinePath:function(e,t){var n=this.center,r=this.chart,i=this.getPosition(e),s,o,a;return this.isCircular?a=["M",n[0]+r.plotLeft,n[1]+r.plotTop,"L",i.x,i.y]:this.options.gridLineInterpolation==="circle"?(e=this.translate(e))&&(a=this.getLinePath(0,e)):(s=r.xAxis[0],a=[],e=this.translate(e),n=s.tickPositions,s.autoConnect&&(n=n.concat([n[0]])),t&&(n=[].concat(n).reverse()),u(n,function(t,n){o=s.getPosition(t,e),a.push(n?"L":"M",o.x,o.y)})),a},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};g(k,"init",function(e,r,i){var s,o=r.angular,u=r.polar,l=i.isX,h=o&&l,p,d;d=r.options;var v=i.pane||0;if(o){if(a(this,h?L:A),p=!l)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else u&&(a(this,A),this.defaultRadialOptions=(p=l)?this.defaultRadialXOptions:f(this.defaultYAxisOptions,this.defaultRadialYOptions));e.call(this,r,i),!h&&(o||u)&&(e=this.options,r.panes||(r.panes=[]),this.pane=(s=r.panes[v]=r.panes[v]||new n(m(d.pane)[v],r,this),v=s),v=v.options,r.inverted=!1,d.chart.zoomType=null,this.startAngleRad=r=(v.startAngle-90)*Math.PI/180,this.endAngleRad=d=(c(v.endAngle,v.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0,(this.isCircular=p)&&i.max===t&&d-r===2*Math.PI&&(this.autoConnect=!0))}),g(b,"getPosition",function(e,t,n,r,i){var s=this.axis;return s.getPosition?s.getPosition(n):e.call(this,t,n,r,i)}),g(b,"getLabelPosition",function(e,t,n,r,i,s,o,u,a){var f=this.axis,l=s.y,p=s.align,d=(f.translate(this.pos)+f.startAngleRad+Math.PI/2)/Math.PI*180%360;return f.isRadial?(e=f.getPosition(this.pos,f.center[2]/2+c(s.distance,-25)),s.rotation==="auto"?r.attr({rotation:d}):l===null&&(l=h(r.styles.lineHeight)*.9-r.getBBox().height/2),p===null&&(p=f.isCircular?d>20&&d<160?"left":d>200&&d<340?"right":"center":"center",r.attr({align:p})),e.x+=s.x,e.y+=l):e=e.call(this,t,n,r,i,s,o,u,a),e}),g(b,"getMarkPath",function(e,t,n,r,i,s,o){var u=this.axis;return u.isRadial?(e=u.getPosition(this.pos,u.center[2]/2+r),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,r,i,s,o),t}),p.arearange=f(p.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}}),d.arearange=e.extendClass(d.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",getSegments:function(){var e=this;u(e.points,function(t){!!e.options.connectNulls||t.low!==null&&t.high!==null?t.low===null&&t.high!==null&&(t.y=t.high):t.y=null}),w.prototype.getSegments.call(this)},translate:function(){var e=this.yAxis;d.area.prototype.translate.apply(this),u(this.points,function(t){var n=t.low,r=t.high,i=t.plotY;r===null&&n===null?t.y=null:n===null?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(r,0,1,0,1)):r===null?(t.plotLow=i,t.plotHigh=null):(t.plotLow=i,t.plotHigh=e.translate(r,0,1,0,1))})},getSegmentPath:function(e){var t,n=[],r=e.length,i=w.prototype.getSegmentPath,s,o;o=this.options;var u=o.step;for(t=HighchartsAdapter.grep(e,function(e){return e.plotLow!==null});r--;)s=e[r],s.plotHigh!==null&&n.push({plotX:s.plotX,plotY:s.plotHigh});return e=i.call(this,t),u&&(u===!0&&(u="left"),o.step={left:"right",center:"center",right:"left"}[u]),n=i.call(this,n),o.step=u,o=[].concat(e,n),n[0]="L",this.areaPath=this.areaPath.concat(e,n),o},drawDataLabels:function(){var e=this.data,t=e.length,n,r=[],i=w.prototype,s=this.options.dataLabels,o,u=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(n=t;n--;)o=e[n],o.y=o.high,o.plotY=o.plotHigh,r[n]=o.dataLabel,o.dataLabel=o.dataLabelUpper,o.below=!1,u?(s.align="left",s.x=s.xHigh):s.y=s.yHigh;i.drawDataLabels.apply(this,arguments);for(n=t;n--;)o=e[n],o.dataLabelUpper=o.dataLabel,o.dataLabel=r[n],o.y=o.low,o.plotY=o.plotLow,o.below=!0,u?(s.align="right",s.x=s.xLow):s.y=s.yLow;i.drawDataLabels.apply(this,arguments)}},alignDataLabel:d.column.prototype.alignDataLabel,getSymbol:d.column.prototype.getSymbol,drawPoints:C}),p.areasplinerange=f(p.arearange),d.areasplinerange=v(d.arearange,{type:"areasplinerange",getPointSpline:d.spline.prototype.getPointSpline}),p.columnrange=f(p.column,p.arearange,{lineWidth:1,pointRange:null}),d.columnrange=v(d.arearange,{type:"columnrange",translate:function(){var e=this,t=e.yAxis,n;E.translate.apply(e),u(e.points,function(r){var i=r.shapeArgs,s=e.options.minPointLength,o;r.plotHigh=n=t.translate(r.high,0,1,0,1),r.plotLow=r.plotY,o=n,r=r.plotY-n,r<s&&(s-=r,r+=s,o-=s/2),i.height=r,i.y=o})},trackerGroups:["group","dataLabels"],drawGraph:C,pointAttrToOptions:E.pointAttrToOptions,drawPoints:E.drawPoints,drawTracker:E.drawTracker,animate:E.animate,getColumnMetrics:E.getColumnMetrics}),p.gauge=f(p.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),b={type:"gauge",pointClass:e.extendClass(e.Point,{setState:function(e){this.state=e}}),angular:!0,drawGraph:C,fixedBox:!0,trackerGroups:["group","dataLabels"],translate:function(){var e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),u(this.points,function(r){var i=f(t.dial,r.dial),s=h(c(i.radius,80))*n[2]/200,o=h(c(i.baseLength,70))*s/100,u=h(c(i.rearLength,10))*s/100,a=i.baseWidth||3,l=i.topWidth||1,p=e.startAngleRad+e.translate(r.y,null,null,null,!0);t.wrap===!1&&(p=Math.max(e.startAngleRad,Math.min(e.endAngleRad,p))),p=p*180/Math.PI,r.shapeType="path",r.shapeArgs={d:i.path||["M",-u,-a/2,"L",o,-a/2,s,-l/2,s,l/2,o,a/2,-u,a/2,"z"],translateX:n[0],translateY:n[1],rotation:p},r.plotX=n[0],r.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,r=e.options,i=r.pivot,s=e.chart.renderer;u(e.points,function(t){var n=t.graphic,i=t.shapeArgs,o=i.d,u=f(r.dial,t.dial);n?(n.animate(i),i.d=o):t.graphic=s[t.shapeType](i).attr({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0,fill:u.backgroundColor||"black",rotation:i.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=s.circle(0,0,c(i.radius,5)).attr({"stroke-width":i.borderWidth||0,stroke:i.borderColor||"silver",fill:i.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(u(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),d.pie.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:d.pie.prototype.setData,drawTracker:d.column.prototype.drawTracker},d.gauge=e.extendClass(d.line,b),p.boxplot=f(p.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),d.boxplot=v(d.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:C,translate:function(){var e=this.yAxis,t=this.pointArrayMap;d.column.prototype.translate.apply(this),u(this.points,function(n){u(t,function(t){n[t]!==null&&(n[t+"Plot"]=e.translate(n[t],0,1,0,1))})})},drawPoints:function(){var e=this,n=e.points,r=e.options,i=e.chart.renderer,s,o,a,f,l,h,p,d,v,m,g,y,b,w,E,S,N,C,k,L,A,O,M=e.doQuartiles!==!1,_=parseInt(e.options.whiskerLength,10)/100;u(n,function(n){v=n.graphic,A=n.shapeArgs,g={},w={},S={},O=n.color||e.color,n.plotY!==t&&((s=n.pointAttr[n.selected?"selected":""],N=A.width,C=T(A.x),k=C+N,L=x(N/2),o=T(M?n.q1Plot:n.lowPlot),a=T(M?n.q3Plot:n.lowPlot),f=T(n.highPlot),l=T(n.lowPlot),g.stroke=n.stemColor||r.stemColor||O,g["stroke-width"]=c(n.stemWidth,r.stemWidth,r.lineWidth),g.dashstyle=n.stemDashStyle||r.stemDashStyle,w.stroke=n.whiskerColor||r.whiskerColor||O,w["stroke-width"]=c(n.whiskerWidth,r.whiskerWidth,r.lineWidth),S.stroke=n.medianColor||r.medianColor||O,S["stroke-width"]=c(n.medianWidth,r.medianWidth,r.lineWidth),p=g["stroke-width"]%2/2,d=C+L+p,m=["M",d,a,"L",d,f,"M",d,o,"L",d,l,"z"],M&&(p=s["stroke-width"]%2/2,d=T(d)+p,o=T(o)+p,a=T(a)+p,C+=p,k+=p,y=["M",C,a,"L",C,o,"L",k,o,"L",k,a,"L",C,a,"z"]),_&&(p=w["stroke-width"]%2/2,f+=p,l+=p,b=["M",d-L*_,f,"L",d+L*_,f,"M",d-L*_,l,"L",d+L*_,l]),p=S["stroke-width"]%2/2,h=x(n.medianPlot)+p,E=["M",C,h,"L",k,h,"z"],v)?(n.stem.animate({d:m}),_&&n.whiskers.animate({d:b}),M&&n.box.animate({d:y}),n.medianShape.animate({d:E})):(n.graphic=v=i.g().add(e.group),n.stem=i.path(m).attr(g).add(v),_&&(n.whiskers=i.path(b).attr(w).add(v)),M&&(n.box=i.path(y).attr(s).add(v)),n.medianShape=i.path(E).attr(S).add(v)))})}}),p.errorbar=f(p.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:p.arearange.tooltip.pointFormat},whiskerWidth:null}),d.errorbar=v(d.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||d.column.prototype.getColumnMetrics.call(this)}}),p.waterfall=f(p.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"}),d.waterfall=v(d.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(e,t){t.stacking=!0,d.column.prototype.init.call(this,e,t)},translate:function(){var e=this.options,t=this.yAxis,n,r,i,s,o,u,a,f,l;n=e.threshold,e=e.borderWidth%2/2,d.column.prototype.translate.apply(this),f=n,i=this.points;for(r=0,n=i.length;r<n;r++)s=i[r],o=s.shapeArgs,u=this.getStack(r),l=u.points[this.index],isNaN(s.y)&&(s.y=this.yData[r]),a=N(f,f+s.y)+l[0],o.y=t.translate(a,0,1),s.isSum||s.isIntermediateSum?(o.y=t.translate(l[1],0,1),o.height=t.translate(l[0],0,1)-o.y):f+=u.total,o.height<0&&(o.y+=o.height,o.height*=-1),s.plotY=o.y=x(o.y)-e,o.height=x(o.height),s.yBottom=o.y+o.height},processData:function(e){var t=this.yData,n=this.points,r,i=t.length,s=this.options.threshold||0,o,u,a,f,l,c;u=o=a=f=s;for(c=0;c<i;c++)l=t[c],r=n&&n[c]?n[c]:{},l==="sum"||r.isSum?t[c]=u:l==="intermediateSum"||r.isIntermediateSum?(t[c]=o,o=s):(u+=l,o+=l),a=Math.min(u,a),f=Math.max(u,f);w.prototype.processData.call(this,e),this.dataMin=a,this.dataMax=f},toYData:function(e){return e.isSum?"sum":e.isIntermediateSum?"intermediateSum":e.y},getAttribs:function(){d.column.prototype.getAttribs.apply(this,arguments);var t=this.options,n=t.states,r=t.upColor||this.color,t=e.Color(r).brighten(.1).get(),i=f(this.pointAttr),s=this.upColorProp;i[""][s]=r,i.hover[s]=n.hover.upColor||t,i.select[s]=n.select.upColor||r,u(this.points,function(e){e.y>0&&!e.color&&(e.pointAttr=i,e.color=r)})},getGraphPath:function(){var e=this.data,t=e.length,n=x(this.options.lineWidth+this.options.borderWidth)%2/2,r=[],i,s,o;for(o=1;o<t;o++)s=e[o].shapeArgs,i=e[o-1].shapeArgs,s=["M",i.x+i.width,i.y+n,"L",s.x,i.y+n],e[o-1].y<0&&(s[2]+=i.height,s[5]+=i.height),r=r.concat(s);return r},getExtremes:C,getStack:function(e){var t=this.yAxis.stacks,n=this.stackKey;return this.processedYData[e]<this.options.threshold&&(n="-"+n),t[n][e]},drawGraph:w.prototype.drawGraph}),p.bubble=f(p.scatter,{dataLabels:{inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0}),d.bubble=v(d.scatter,{type:"bubble",pointArrayMap:["y","z"],trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var n=this.options.marker,r=c(n.fillOpacity,.5),t=t||n.fillColor||this.color;return r!==1&&(t=e.Color(t).setOpacity(r).get("rgba")),t},convertAttribs:function(){var e=w.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,r){var i,s,o,u=this.zData,a=[];for(s=0,i=u.length;s<i;s++)o=t-e,o=o>0?(u[s]-e)/(t-e):.5,a.push(S.ceil(n+o*(r-n))/2);this.radii=a},animate:function(e){var t=this.options.animation;e||(u(this.points,function(e){var n=e.graphic,e=e.shapeArgs;n&&e&&(n.attr("r",1),n.animate({r:e.r},t))}),this.animate=null)},translate:function(){var e,n=this.data,r,i,s=this.radii;d.scatter.prototype.translate.call(this);for(e=n.length;e--;)r=n[e],i=s?s[e]:0,r.negative=r.z<(this.options.zThreshold||0),i>=this.minPxSize/2?(r.shapeType="circle",r.shapeArgs={x:r.plotX,y:r.plotY,r:i},r.dlBox={x:r.plotX-i,y:r.plotY-i,width:2*i,height:2*i}):r.shapeArgs=r.plotY=r.dlBox=t},drawLegendSymbol:function(e,t){var n=h(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:d.column.prototype.drawPoints,alignDataLabel:d.column.prototype.alignDataLabel}),y.prototype.beforePadding=function(){var e=this,n=this.len,r=this.chart,i=0,a=n,f=this.isXAxis,l=f?"xData":"yData",p=this.min,d={},v=S.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=this.max-p,b=n/y,w=[];this.tickPositions&&(u(this.series,function(t){var n=t.options;t.type==="bubble"&&t.visible&&(e.allowZoomOutside=!0,w.push(t),f)&&(u(["minSize","maxSize"],function(e){var t=n[e],r=/%$/.test(t),t=h(t);d[e]=r?v*t/100:t}),t.minPxSize=d.minSize,t=t.zData,t.length&&(m=S.min(m,S.max(s(t),n.displayNegative===!1?n.zThreshold:-Number.MAX_VALUE)),g=S.max(g,o(t))))}),u(w,function(e){var t=e[l],n=t.length,r;f&&e.getRadii(m,g,d.minSize,d.maxSize);if(y>0)for(;n--;)r=e.radii[n],i=Math.min((t[n]-p)*b-r,i),a=Math.max((t[n]-p)*b+r,a)}),w.length&&y>0&&c(this.options.min,this.userMin)===t&&c(this.options.max,this.userMax)===t&&(a-=n,b*=(n+i-a)/n,this.min+=i/b,this.max+=a/b))};var O=w.prototype,p=e.Pointer.prototype;O.toXY=function(e){var t,n=this.chart;t=e.plotX;var r=e.plotY;e.rectPlotX=t,e.rectPlotY=r,e.clientX=(t/Math.PI*180+this.xAxis.pane.options.startAngle)%360,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-r),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop},O.orderTooltipPoints=function(e){this.chart.polar&&(e.sort(function(e,t){return e.clientX-t.clientX}),e[0])&&(e[0].wrappedClientX=e[0].clientX+360,e.push(e[0]))},g(d.area.prototype,"init",r),g(d.areaspline.prototype,"init",r),g(d.spline.prototype,"getPointSpline",function(e,t,n,r){var i,s,o,u,a,f,l;return this.chart.polar?(i=n.plotX,s=n.plotY,e=t[r-1],o=t[r+1],this.connectEnds&&(e||(e=t[t.length-2]),o||(o=t[1])),e&&o&&(u=e.plotX,a=e.plotY,t=o.plotX,f=o.plotY,u=(1.5*i+u)/2.5,a=(1.5*s+a)/2.5,o=(1.5*i+t)/2.5,l=(1.5*s+f)/2.5,t=Math.sqrt(Math.pow(u-i,2)+Math.pow(a-s,2)),f=Math.sqrt(Math.pow(o-i,2)+Math.pow(l-s,2)),u=Math.atan2(a-s,u-i),a=Math.atan2(l-s,o-i),l=Math.PI/2+(u+a)/2,Math.abs(u-l)>Math.PI/2&&(l-=Math.PI),u=i+Math.cos(l)*t,a=s+Math.sin(l)*t,o=i+Math.cos(Math.PI+l)*f,l=s+Math.sin(Math.PI+l)*f,n.rightContX=o,n.rightContY=l),r?(n=["C",e.rightContX||e.plotX,e.rightContY||e.plotY,u||i,a||s,i,s],e.rightContX=e.rightContY=null):n=["M",i,s]):n=e.call(this,t,n,r),n}),g(O,"translate",function(e){e.call(this);if(this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,t=e.length;t--;)this.toXY(e[t])}),g(O,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&n[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),g(O,"animate",i),g(E,"animate",i),g(O,"setTooltipPoints",function(e,t){return this.chart.polar&&a(this.xAxis,{tooltipLen:360}),e.call(this,t)}),g(E,"translate",function(e){var t=this.xAxis,n=this.yAxis.len,r=t.center,i=t.startAngleRad,s=this.chart.renderer,o,u;this.preventPostTranslate=!0,e.call(this);if(t.isRadial){t=this.points;for(u=t.length;u--;)o=t[u],e=o.barX+i,o.shapeType="path",o.shapeArgs={d:s.symbols.arc(r[0],r[1],n-o.plotY,null,{start:e,end:e+o.pointWidth,innerR:n-c(o.yBottom,n)})},this.toXY(o)}}),g(E,"alignDataLabel",function(e,t,n,r,i,s){this.chart.polar?(e=t.rectPlotX/Math.PI*180,r.align===null&&(r.align=e>20&&e<160?"left":e>200&&e<340?"right":"center"),r.verticalAlign===null&&(r.verticalAlign=e<45||e>315?"bottom":e>135&&e<225?"top":"middle"),O.alignDataLabel.call(this,t,n,r,i,s)):e.call(this,t,n,r,i,s)}),g(p,"getIndex",function(e,t){var n,r=this.chart,i;return r.polar?(i=r.xAxis[0].center,n=t.chartX-i[0]-r.plotLeft,r=t.chartY-i[1]-r.plotTop,n=180-Math.round(Math.atan2(n,r)/Math.PI*180)):n=e.call(this,t),n}),g(p,"getCoordinates",function(e,t){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?u(n.axes,function(e){var i=e.isXAxis,s=e.center,o=t.chartX-s[0]-n.plotLeft,s=t.chartY-s[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:e,value:e.translate(i?Math.PI-Math.atan2(o,s):Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),!0)})}):r=e.call(this,t),r})})(Highcharts);