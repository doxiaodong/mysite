/*!
 * UEditor
 * version: ueditor
 * build: Thu May 29 2014 16:47:49 GMT+0800 (中国标准时间)
 */

(function(){(function(){UE=window.UE||{};var e=!!window.ActiveXObject,t={removeLastbs:function(e){return e.replace(/\/$/,"")},extend:function(e,t){var n=arguments,r=this.isBoolean(n[n.length-1])?n[n.length-1]:!1,i=this.isBoolean(n[n.length-1])?n.length-1:n.length;for(var s=1;s<i;s++){var o=n[s];for(var u in o)if(!r||!e.hasOwnProperty(u))e[u]=o[u]}return e},isIE:e,cssRule:e?function(e,t,n){var r,i;n=n||document,n.indexList?r=n.indexList:r=n.indexList={};var s;if(!r[e]){if(t===undefined)return"";s=n.createStyleSheet("",i=n.styleSheets.length),r[e]=i}else s=n.styleSheets[r[e]];if(t===undefined)return s.cssText;s.cssText=s.cssText+"\n"+(t||"")}:function(e,t,n){n=n||document;var r=n.getElementsByTagName("head")[0],i;if(!(i=n.getElementById(e))){if(t===undefined)return"";i=n.createElement("style"),i.id=e,r.appendChild(i)}if(t===undefined)return i.innerHTML;t!==""?i.innerHTML=i.innerHTML+"\n"+t:r.removeChild(i)},domReady:function(t){var n=window.document;n.readyState==="complete"?t():e?(function(){if(n.isReady)return;try{n.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}t()}(),window.attachEvent("onload",function(){t()})):(n.addEventListener("DOMContentLoaded",function(){n.removeEventListener("DOMContentLoaded",arguments.callee,!1),t()},!1),window.addEventListener("load",function(){t()},!1))},each:function(e,t,n){if(e==null)return;if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(var s in e)if(e.hasOwnProperty(s)&&t.call(n,e[s],s,e)===!1)return!1},inArray:function(e,t){var n=-1;return this.each(e,function(e,r){if(e===t)return n=r,!1}),n},pushItem:function(e,t){this.inArray(e,t)==-1&&e.push(t)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},indexOf:function(e,t,n){var r=-1;return n=this.isNumber(n)?n:0,this.each(e,function(e,i){if(i>=n&&e===t)return r=i,!1}),r},hasClass:function(e,t){t=t.replace(/(^[ ]+)|([ ]+$)/g,"").replace(/[ ]{2,}/g," ").split(" ");for(var n=0,r,i=e.className;r=t[n++];)if(!(new RegExp("\\b"+r+"\\b","i")).test(i))return!1;return n-1==t.length},addClass:function(e,n){if(!e)return;n=this.trim(n).replace(/[ ]{2,}/g," ").split(" ");for(var r=0,i,s=e.className;i=n[r++];)(new RegExp("\\b"+i+"\\b")).test(s)||(s+=" "+i);e.className=t.trim(s)},removeClass:function(e,t){t=this.isArray(t)?t:this.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n=0,r,i=e.className;r=t[n++];)i=i.replace(new RegExp("\\b"+r+"\\b"),"");i=this.trim(i).replace(/[ ]{2,}/g," "),e.className=i,!i&&e.removeAttribute("className")},on:function(e,n,r){var i=this.isArray(n)?n:n.split(/\s+/),s=i.length;if(s)while(s--){n=i[s];if(e.addEventListener)e.addEventListener(n,r,!1);else{r._d||(r._d={els:[]});var o=n+r.toString(),u=t.indexOf(r._d.els,e);if(!r._d[o]||u==-1)u==-1&&r._d.els.push(e),r._d[o]||(r._d[o]=function(e){return r.call(e.srcElement,e||window.event)}),e.attachEvent("on"+n,r._d[o])}}e=null},off:function(e,n,r){var i=this.isArray(n)?n:n.split(/\s+/),s=i.length;if(s)while(s--){n=i[s];if(e.removeEventListener)e.removeEventListener(n,r,!1);else{var o=n+r.toString();try{e.detachEvent("on"+n,r._d?r._d[o]:r)}catch(u){}if(r._d&&r._d[o]){var a=t.indexOf(r._d.els,e);a!=-1&&r._d.els.splice(a,1),r._d.els.length==0&&delete r._d[o]}}}},loadFile:function(){function t(t,n){try{for(var r=0,i;i=e[r++];)if(i.doc===t&&i.url==(n.src||n.href))return i}catch(s){return null}}var e=[];return function(n,r,i){var s=t(n,r);if(s){s.ready?i&&i():s.funs.push(i);return}e.push({doc:n,url:r.src||r.href,funs:[i]});if(!n.body){var o=[];for(var u in r){if(u=="tag")continue;o.push(u+'="'+r[u]+'"')}n.write("<"+r.tag+" "+o.join(" ")+" ></"+r.tag+">");return}if(r.id&&n.getElementById(r.id))return;var a=n.createElement(r.tag);delete r.tag;for(var u in r)a.setAttribute(u,r[u]);a.onload=a.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){s=t(n,r);if(s.funs.length>0){s.ready=1;for(var e;e=s.funs.pop();)e()}a.onload=a.onreadystatechange=null}},a.onerror=function(){throw Error("The load "+(r.href||r.src)+" fails,check the url")},n.getElementsByTagName("head")[0].appendChild(a)}}()};t.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(e){t["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var n={};UE.parse={register:function(e,t){n[e]=t},load:function(e){t.each(n,function(n){n.call(e,t)})}},uParse=function(e,n){t.domReady(function(){var r;if(document.querySelectorAll)r=document.querySelectorAll(e);else if(/^#/.test(e))r=[document.getElementById(e.replace(/^#/,""))];else if(/^\./.test(e)){var r=[];t.each(document.getElementsByTagName("*"),function(t){t.className&&(new RegExp("\\b"+e.replace(/^\./,"")+"\\b","i")).test(t.className)&&r.push(t)})}else r=document.getElementsByTagName(e);t.each(r,function(r){UE.parse.load(t.extend({root:r,selector:e},n))})})}})(),UE.parse.register("insertcode",function(e){var t=this.root.getElementsByTagName("pre");if(t.length)if(typeof XRegExp=="undefined"){var n,r;this.rootPath!==undefined?(n=e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCore.js",r=e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCoreDefault.css"):(n=this.highlightJsUrl,r=this.highlightCssUrl),e.loadFile(document,{id:"syntaxhighlighter_css",tag:"link",rel:"stylesheet",type:"text/css",href:r}),e.loadFile(document,{id:"syntaxhighlighter_js",src:n,tag:"script",type:"text/javascript",defer:"defer"},function(){e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})})}else e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})}),UE.parse.register("table",function(e){var t=this,n=this.root,r=n.getElementsByTagName("table");if(r.length){var i=this.selector;e.cssRule("table",i+" table.noBorderTable td,"+i+" table.noBorderTable th,"+i+" table.noBorderTable caption{border:1px dashed #ddd !important}"+i+" table.sortEnabled tr.firstRow th,"+i+" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;"+"background-position: center right; background-image:url("+this.rootPath+"themes/default/images/sortable.png);}"+i+" table.sortEnabled tr.firstRow th:hover,"+i+" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}"+i+" table{margin-bottom:10px;border-collapse:collapse;display:table;}"+i+" td,"+i+" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}"+i+" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}"+i+" th{border-top:1px solid #BBB;background:#F7F7F7;}"+i+" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}"+i+" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }"+i+" tr.ue-table-interlace-color-double td{ background: #f7faff; }"+i+" td p{margin:0;padding:0;}",document),e.each("td th caption".split(" "),function(t){var r=n.getElementsByTagName(t);r.length&&e.each(r,function(e){e.firstChild||(e.innerHTML="&nbsp;")})});var r=n.getElementsByTagName("table");e.each(r,function(n){/\bsortEnabled\b/.test(n.className)&&e.on(n,"click",function(n){var r=n.target||n.srcElement,i=s(r,["td","th"]),u=s(r,"table"),f=e.indexOf(u.rows[0].cells,i),l=u.getAttribute("data-sort-type");f!=-1&&(o(u,f,t.tableSortCompareFn||l),a(u))})});function s(t,n){var r,i=t;n=e.isArray(n)?n:[n];while(i){for(r=0;r<n.length;r++)if(i.tagName==n[r].toUpperCase())return i;i=i.parentNode}return null}function o(t,n,r){var i=t.rows,s=[],o=i[0].cells[0].tagName==="TH",a=0;for(var f=0,l=i.length;f<l;f++)s[f]=i[f];var c={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var n=e.innerText||e.textContent,r=t.innerText||t.textContent;return n.localeCompare(r)},reversebyasc:function(e,t){var n=e.innerHTML,r=t.innerHTML;return r.localeCompare(n)},orderbynum:function(t,n){var r=t[e.isIE?"innerText":"textContent"].match(/\d+/),i=n[e.isIE?"innerText":"textContent"].match(/\d+/);return r&&(r=+r[0]),i&&(i=+i[0]),(r||0)-(i||0)},reversebynum:function(t,n){var r=t[e.isIE?"innerText":"textContent"].match(/\d+/),i=n[e.isIE?"innerText":"textContent"].match(/\d+/);return r&&(r=+r[0]),i&&(i=+i[0]),(i||0)-(r||0)}};t.setAttribute("data-sort-type",r&&typeof r=="string"&&c[r]?r:""),o&&s.splice(0,1),s=u(s,function(e,t){var i;return r&&typeof r=="function"?i=r.call(this,e.cells[n],t.cells[n]):r&&typeof r=="number"?i=1:r&&typeof r=="string"&&c[r]?i=c[r].call(this,e.cells[n],t.cells[n]):i=c.orderbyasc.call(this,e.cells[n],t.cells[n]),i});var h=t.ownerDocument.createDocumentFragment();for(var p=0,l=s.length;p<l;p++)h.appendChild(s[p]);var d=t.getElementsByTagName("tbody")[0];a?d.insertBefore(h,i[a-range.endRowIndex+range.beginRowIndex-1]):d.appendChild(h)}function u(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var n=0,r=e.length;n<r;n++)for(var i=n,s=e.length;i<s;i++)if(t(e[n],e[i])>0){var o=e[n];e[n]=e[i],e[i]=o}return e}function a(t){if(!e.hasClass(t.rows[0],"firstRow")){for(var n=1;n<t.rows.length;n++)e.removeClass(t.rows[n],"firstRow");e.addClass(t.rows[0],"firstRow")}}}}),UE.parse.register("charts",function(e){function i(){return n?s(n):null}function s(e){var t=[],n=e.getElementsByTagName("table");for(var r=0,i;i=n[r];r++)i.getAttribute("data-chart")!==null&&t.push(o(i));return t.length?t:null}function o(e){var t=e.getAttribute("data-chart"),n={},r=[];for(var i=0,s;s=e.rows[i];i++){var o=[];for(var u=0,a;a=s.cells[u];u++){var f=a.innerText||a.textContent||"";o.push(a.tagName=="TH"?f:f|0)}r.push(o)}t=t.split(";");for(var i=0,l;l=t[i];i++)l=l.split(":"),n[l[0]]=l[1];return{table:e,meta:n,data:r}}function u(){a()}function a(){window.jQuery?f():e.loadFile(document,{src:t+"/third-party/jquery-1.10.2.min.js",tag:"script",type:"text/javascript",defer:"defer"},function(){f()})}function f(){window.Highcharts?l():e.loadFile(document,{src:t+"/third-party/highcharts/highcharts.js",tag:"script",type:"text/javascript",defer:"defer"},function(){l()})}function l(){e.loadFile(document,{src:t+"/dialogs/charts/chart.config.js",tag:"script",type:"text/javascript",defer:"defer"},function(){c()})}function c(){var e=null,t=null,n=null;for(var i=0,s=r.length;i<s;i++)e=r[i],t=d(e),n=p(e.table),h(n,typeConfig[e.meta.chartType],t)}function h(e,t,n){$(e).highcharts($.extend({},t,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:n.title,x:-20},subtitle:{text:n.subTitle,x:-20},xAxis:{title:{text:n.xTitle},categories:n.categories},yAxis:{title:{text:n.yTitle},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{enabled:!0,valueSuffix:n.suffix},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:1},series:n.series}))}function p(e){var t=document.createElement("div");return t.className="edui-chart-container",e.parentNode.replaceChild(t,e),t}function d(e){var t=[],n=[],r=[],i=e.data,s=e.meta;if(s.dataFormat!="1"){for(var o=0,u=i.length;o<u;o++)for(var a=0,f=i[o].length;a<f;a++)r[a]||(r[a]=[]),r[a][o]=i[o][a];i=r}r={};if(s.chartType!=typeConfig.length-1){n=i[0].slice(1);for(var o=1,l;l=i[o];o++)t.push({name:l[0],data:l.slice(1)});r.series=t,r.categories=n,r.title=s.title,r.subTitle=s.subTitle,r.xTitle=s.xTitle,r.yTitle=s.yTitle,r.suffix=s.suffix}else{var l=[];for(var o=1,u=i[0].length;o<u;o++)l.push([i[0][o],i[1][o]|0]);t[0]={type:"pie",name:s.tip,data:l},r.series=t,r.title=s.title,r.suffix=s.suffix}return r}e.cssRule("chartsContainerHeight",".edui-chart-container { height:"+(this.chartContainerHeight||300)+"px}");var t=this.rootPath,n=this.root,r=null;if(!t)return;(r=i())&&u()}),UE.parse.register("background",function(e){var t=this,n=t.root,r=n.getElementsByTagName("p"),i;for(var s=0,o;o=r[s++];)i=o.getAttribute("data-background"),i&&o.parentNode.removeChild(o);i&&e.cssRule("ueditor_background",t.selector+"{"+i+"}",document)}),UE.parse.register("list",function(e){function u(r){var i=this;e.each(r,function(r){if(r.className&&/custom_/i.test(r.className)){var s=r.className.match(/custom_(\w+)/)[1];if(s=="dash"||s=="dot")e.pushItem(t,o+" li.list-"+n[s]+"{background-image:url("+i.liiconpath+n[s]+".gif)}"),e.pushItem(t,o+" ul.custom_"+s+"{list-style:none;} "+o+" ul.custom_"+s+" li{background-position:0 3px;background-repeat:no-repeat}");else{var u=1;e.each(r.childNodes,function(r){r.tagName=="LI"&&(e.pushItem(t,o+" li.list-"+n[s]+u+"{background-image:url("+i.liiconpath+"list-"+n[s]+u+".gif)}"),u++)}),e.pushItem(t,o+" ol.custom_"+s+"{list-style:none;}"+o+" ol.custom_"+s+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(s){case"cn":e.pushItem(t,o+" li.list-"+s+"-paddingleft-1{padding-left:25px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-2{padding-left:40px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-3{padding-left:55px}");break;case"cn1":e.pushItem(t,o+" li.list-"+s+"-paddingleft-1{padding-left:30px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-2{padding-left:40px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-3{padding-left:55px}");break;case"cn2":e.pushItem(t,o+" li.list-"+s+"-paddingleft-1{padding-left:40px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-2{padding-left:55px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":e.pushItem(t,o+" li.list-"+s+"-paddingleft-1{padding-left:25px}");break;case"num2":e.pushItem(t,o+" li.list-"+s+"-paddingleft-1{padding-left:35px}"),e.pushItem(t,o+" li.list-"+s+"-paddingleft-2{padding-left:40px}");break;case"dash":e.pushItem(t,o+" li.list-"+s+"-paddingleft{padding-left:35px}");break;case"dot":e.pushItem(t,o+" li.list-"+s+"-paddingleft{padding-left:20px}")}}})}var t=[],n={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};e.extend(this,{liiconpath:"http://bs.baidu.com/listicon/",listDefaultPaddingLeft:"20"});var r=this.root,i=r.getElementsByTagName("ol"),s=r.getElementsByTagName("ul"),o=this.selector;i.length&&u.call(this,i),s.length&&u.call(this,s);if(i.length||s.length)t.push(o+" .list-paddingleft-1{padding-left:0}"),t.push(o+" .list-paddingleft-2{padding-left:"+this.listDefaultPaddingLeft+"px}"),t.push(o+" .list-paddingleft-3{padding-left:"+this.listDefaultPaddingLeft*2+"px}"),e.cssRule("list",o+" ol,"+o+" ul{margin:0;padding:0;}li{clear:both;}"+t.join("\n"),document)}),UE.parse.register("vedio",function(e){var t=this.root.getElementsByTagName("video"),n=this.root.getElementsByTagName("audio");document.createElement("video"),document.createElement("audio");if(t.length||n.length){var r=e.removeLastbs(this.rootPath),i=r+"/third-party/video-js/video.js",s=r+"/third-party/video-js/video-js.min.css",o=r+"/third-party/video-js/video-js.swf";window.videojs?videojs.autoSetup():(e.loadFile(document,{id:"video_css",tag:"link",rel:"stylesheet",type:"text/css",href:s}),e.loadFile(document,{id:"video_js",src:i,tag:"script",type:"text/javascript"},function(){videojs.options.flash.swf=o,videojs.autoSetup()}))}})})();